(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-visitAdd"],{"293f":function(t,e,i){"use strict";i.r(e);var a=i("d2ee"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"44a0":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.seen?a("v-uni-view",{staticClass:"content"},[a("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)},reset:function(e){arguments[0]=e=t.$handleEvent(e),t.formReset.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"inputView"},[a("v-uni-text",{staticClass:"leftTitle"},[t._v("访客姓名")]),a("v-uni-input",{staticClass:"rightInput",attrs:{name:"name",value:"",placeholder:"请输入姓名"}})],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"inputView"},[a("v-uni-text",{staticClass:"leftTitle"},[t._v("访客手机号")]),a("v-uni-input",{staticClass:"rightInput",attrs:{name:"phone",value:"",placeholder:"请输入手机号"}})],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"inputView"},[a("v-uni-text",{staticClass:"leftTitle"},[t._v("来访人数")]),a("v-uni-picker",{staticClass:"picker",attrs:{value:t.personIndex,range:t.personArray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChangeTwo.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"pickView"},[t._v(t._s(t.personArray[t.personIndex]))])],1),a("v-uni-image",{staticClass:"arrowImg0",attrs:{mode:"aspectFit",src:i("5f38")}})],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"inputView"},[a("v-uni-text",{staticClass:"leftTitle"},[t._v("来访事由")]),a("v-uni-picker",{staticClass:"picker",attrs:{value:t.index,range:t.array},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"pickView"},[t._v(t._s(t.array[t.index]))])],1),a("v-uni-image",{staticClass:"arrowImg0",attrs:{mode:"aspectFit",src:i("5f38")}})],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"inputView"},[a("v-uni-text",{staticClass:"leftTitle"},[t._v("来访时间")]),a("v-uni-picker",{staticClass:"picker",attrs:{mode:"date",value:t.date,start:t.startDate,end:t.endDate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"pickView"},[t._v(t._s(t.date))])],1),a("v-uni-image",{staticClass:"arrowImg0",attrs:{mode:"aspectFit",src:i("5f38")}})],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"uni-btn-v"},[a("v-uni-button",{staticClass:"botBtn",attrs:{type:"primary","form-type":"submit"}},[t._v("下一步")]),a("v-uni-view",{staticClass:"tipText"})],1)],1)],1):t._e()},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},"5f38":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAQAAAAj+tIrAAABFElEQVR4AeXBsSvEYRzH8e+5unIdcYW6DEyyKItBmWS8Udn9A/ZbGMUqNqXjPO/nnHRiIrfQLWTBoJQSuSSl1CUff8Hz/HZeL/uDmOHVr5O2JH4FISBjcZUCdwhxSKfF7QxwjRAn5CyOPE2EON/vsbhyNw2EuKTP4upZjhHiplKwODLUEOK+MmRxpF0ZIR4ZsbjFDreBEC/VMYtTyq0ixBsTloQlhPjwU5aEEkI8Wxw5ThGiYTHbvVwgRJO8hdX6uUKIs4MuC9sb5BYhjupZC2OYB4SokrGw3VGeEGKLtIVVx2kh5NaUsjA/yTtCblkpC/PTfCJEyWJckS/Ej1+wGD9LG/HNvMXRQrT9nCVhk5Yr2n/xCyKXuTfgjNFEAAAAAElFTkSuQmCC"},6273:function(t,e,i){"use strict";(function(t){i("c975"),i("ac1f"),i("466d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,n=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);function s(e){if(a&&(window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(WebViewJavascriptBridge)}),!1),t("log","tag","安卓"," at common/bridge.js:19"),sessionStorage.phoneType="android"),n){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var i=document.createElement("iframe");i.style.display="none",i.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(i),setTimeout((function(){document.documentElement.removeChild(i)}),0),t("log","tag","ios"," at common/bridge.js:39"),sessionStorage.phoneType="ios"}}s((function(t){a&&t.init((function(t,e){var i={"Javascript Responds":"Wee!"};e(i)}))}));var r={callHandler:function(t,e,i){s((function(a){a.callHandler(t,e,i)}))},registerHandler:function(t,e){s((function(i){i.registerHandler(t,(function(t,i){e(t,i)}))}))}};e.default=r}).call(this,i("0de9")["log"])},"942c":function(t,e,i){var a=i("c929");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("70de521a",a,!0,{sourceMap:!1,shadowMode:!1})},a3ca:function(t,e){var i="http://193.112.16.196:8080",a="/zjzl/guard/saveForeignVisitors",n="/zjzl/guard/getForeignVisitorsList";function s(t){var e="";return"undefined"===typeof t?e:t}function r(t){var e="--";return"undefined"===typeof t?e:t}t.exports={ZJValidString:s,ZJNoEmptyString:r,baseURL:i,KTradeid_addVisit:a,KTradeid_visitList:n}},c5cd:function(t,e,i){"use strict";var a=i("942c"),n=i.n(a);n.a},c929:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-form-item .title[data-v-1c23c354]{padding:%?20?% 0}.content[data-v-1c23c354]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:100%;height:auto}.inputView[data-v-1c23c354]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex;height:%?100?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%}.line[data-v-1c23c354]{width:90%;height:%?2?%;margin-left:%?-2?%;background-color:#f8f8f8;margin-left:5%}.leftTitle[data-v-1c23c354]{margin-left:%?40?%;width:%?184?%;font-size:%?28?%;color:#333}.picker[data-v-1c23c354]{margin-left:%?20?%;width:80%;height:%?100?%;font-size:%?30?%}.pickView[data-v-1c23c354]{font-size:%?32?%;padding-top:%?30?%;height:%?100?%;font-size:%?30?%}.rightInput[data-v-1c23c354]{width:80%;font-size:%?30?%}.arrowImg[data-v-1c23c354]{width:%?30?%;height:%?30?%;margin-left:57%}.arrowImg0[data-v-1c23c354]{margin-right:%?60?%;width:%?30?%;height:%?30?%}.botBtn[data-v-1c23c354]{width:90%;margin-top:%?80?%}.tipText[data-v-1c23c354]{width:100%;margin-left:%?60?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#666;margin-top:%?50?%;font-size:%?28?%}",""]),t.exports=e},d2ee:function(t,e,i){"use strict";(function(t){var a=i("ee27");i("99af"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("e143")),s=a(i("a3ca")),r=a(i("6273"));n.default.prototype.$bridge=r.default;var o={data:function(){var t=this.getDate({format:!0});return{seen:!0,index:0,array:["搬家放行","送货上门","装修放行","家政服务","朋友来访"],personIndex:0,personArray:["1","2","3","4","5","6"],date:t,fwzl:"",myFormatData:{},myObjData:{}}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},onLoad:function(e){this.myObjData={xm:e.xm,zjhm:e.zjhm,appKey:e.appKey},this.fwzl=s.default.ZJValidString(e.fyid),uni.showModal({content:"传输数据: "+JSON.stringify(this.fwzl)}),t("log",s.default.baseURL," at pages/index/visitAdd.vue:106"),t("log","中国="+this.fwzl," at pages/index/visitAdd.vue:107"),this.fwzl.length<1&&this.requestContractInfo()},methods:{requestContractInfo:function(e,i){var a=this;uni.showLoading({title:"加载中"}),uni.request({url:s.default.baseURL+"/zjzl/a/info/zjLogin/GIHSSContQuery",method:"POST",data:{zjhm:this.myObjData.zjhm,appKey:this.myObjData.appKey},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){uni.hideLoading();var i=e.data;t("log","合同查询接口调用成功 "+JSON.stringify(i)," at pages/index/visitAdd.vue:137"),0==Number(i["code"])?a.fwzl=s.default.ZJValidString(i["data"]["fyid"]):uni.showModal({content:i["msg"],showCancel:!1})},fail:function(){uni.hideLoading()},complete:function(){}})},requestAddVisits:function(e,i){var a={roomKey:s.default.ZJValidString(this.fwzl),phone:this.myFormatData.phone,visitingTime:this.date+" 00:00:00",visitingNum:this.personArray[this.personIndex],visitingReason:this.array[this.index],visitingName:this.myFormatData.name,primaryKey:""};t("log","请求参数="+JSON.stringify(a)," at pages/index/visitAdd.vue:171"),uni.showLoading({title:"加载中"}),uni.request({url:s.default.baseURL+s.default.KTradeid_addVisit,method:"POST",data:a,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){uni.hideLoading();var n=e.data;t("log","访客接口调用成功"+JSON.stringify(e)," at pages/index/visitAdd.vue:185"),0==Number(n["code"])?(i(!0),uni.navigateTo({url:"./visitResult/visitResult?requestObj="+JSON.stringify(a)+"&qrcodeText="+n["data"]})):uni.showModal({content:n["msg"],showCancel:!1})},fail:function(){uni.hideLoading()},complete:function(){}})},formSubmit:function(e){t("log","form发生了submit事件，携带数据为："+JSON.stringify(e.detail.value)," at pages/index/visitAdd.vue:212");var i=e.detail.value;this.myFormatData=i,s.default.ZJValidString(i["name"]).length<1?uni.showModal({content:"请输入姓名",showCancel:!1}):s.default.ZJValidString(i["phone"]).length<11?uni.showModal({content:"请输入手机号码",showCancel:!1}):this.requestAddVisits({},(function(t){}))},bindDateChange:function(t){this.date=t.target.value},bindPickerChange:function(e){this.index=e.target.value,t("log",e.target.value," at pages/index/visitAdd.vue:246")},bindPickerChangeTwo:function(e){this.personIndex=e.target.value,t("log",e.target.value," at pages/index/visitAdd.vue:250")},getDate:function(t){var e=new Date,i=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return"start"===t?n=n:"end"===t&&(i+=1),a=a>9?a:"0"+a,n=n>9?n:"0"+n,"".concat(i,"-").concat(a,"-").concat(n)}}};e.default=o}).call(this,i("0de9")["log"])},edd9:function(t,e,i){"use strict";i.r(e);var a=i("44a0"),n=i("293f");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("c5cd");var r,o=i("f0c5"),d=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"1c23c354",null,!1,a["a"],r);e["default"]=d.exports}}]);